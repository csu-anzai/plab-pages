<?php
defined('BASEPATH') OR exit('No direct script access allowed');
$this->load->helper('form');
?><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="author" content="XK Printing (002952616-U)">
  <meta name="robots" content="NOINDEX, NOFOLLOW">

  <title>Free Name Card Promotion - by PrintingLab MY</title>

  <link rel="shortcut icon" type="image/x-icon" href="https://static.printinglab.my/img/common/favicon-48x48.ico" sizes="48x48">

  <link rel="stylesheet" href="https://static.printinglab.my/vendor/bootstrap/4.1.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Righteous:400|Merriweather+Sans:700|Roboto:400,500,700|Amaranth|Lato|Hind|Josefin+Sans:400,700">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous" >

  <link rel="stylesheet" href="https://static.printinglab.my/css/plan-b/style.css">
  <link rel="stylesheet" href="https://static.printinglab.my/css/campaign/free-name-card-20190406/landing.css">

  <link rel="stylesheet" href="https://static.printinglab.my/vendor/flipclock/flipclock.css">

  <script src="https://static.printinglab.my/vendor/jquery/3.3.1/jquery.min.js"></script>
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120946405-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-120946405-2');
  </script>
  <!-- END Google Analytics -->
  <!-- Facebook Pixel Code -->
  <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '633239817127685');
    fbq('track', 'PageView');
    fbq('track', 'ViewContent', {
      content_category: 'campaign',
      content_name: 'Free Name Card Promotion 20190709',
    });
  </script>
  <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=633239817127685&ev=PageView&noscript=1"
  /></noscript>
  <!-- End Facebook Pixel Code -->
  <!-- Hotjar Tracking Code -->
  <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1172598,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script>
  <!-- END Hotjar Tracking Code -->

  <style>
    body {
      background-image: url('https://static.printinglab.my/img/common/bg.png');
      background-size: 45%;
    }

    header.masthead {
      padding-top: 5rem;
    }

    header.masthead .masthead-content .display-4 {
      font-size: 2rem;
    }

    header.masthead .masthead-content .masthead-heading {
      font-size: 1.5rem
    }

    header.masthead .masthead-content .masthead-subheading {
      font-size: 1.25rem
    }

    header.masthead .masthead-content .masthead-heading,
    header.masthead .masthead-content .masthead-subheading {
      line-height: normal;
    }

    h1 {
      font-size: 1.75rem;
    }

    .btn-xl {
      padding: 1rem 2.5rem;
    }

    @media (min-width: 576px) {
      body {
        background-size: 30%;
      }

      header.masthead {
        padding-top: calc(7rem + 20px);
        padding-bottom: 7rem;
      }

      header.masthead .masthead-content .display-4 {
        font-size: 3.5rem;
      }

      header.masthead .masthead-content .masthead-heading {
        font-size: 3rem
      }

      header.masthead .masthead-content .masthead-subheading {
        font-size: 2rem
      }

      h1 {
        font-size: 2.345rem;
      }

      .btn-xl {
        padding: 1.5rem 3rem;
      }
    }

    .masthead-notice {
      position: absolute;
      bottom: -5rem;
      width: 100%;
      left:0;
    }
  </style>
</head>
<body>
  <div class="bg-gradient bg-white">
    <nav class="navbar navbar-expand-lg shadow">
      <div class="container">
        <a class="navbar-brand" href="#">
          <img src="https://static.printinglab.my/img/plan-b/PrintingLab-logo-v2.png">
        </a>
      </div>
    </nav>
  </div>

  <!--- Section Masthead --->
  <header class="masthead text-center text-white shadow-sm">
    <!--- Masthead Content --->
    <div class="masthead-content">
      <div class="container">
        <h1 class="masthead-heading mb-0 text-white">
          Grab A Chance To Get
          <div class="display-4">
            2 Boxes of <span class="text-nowrap">FREE<sup><small>*</small></sup> Name Cards</span>
          </div>
        </h1>
        <h2 class="masthead-subheading mt-sm-0 mt-3 mb-0 text-white">
          By Uploading Your Card Design
        </h2>
        <a href="#howto" class="btn btn-primary btn-xl rounded-pill mt-5 bg-white text-danger">Learn More</a>
        <div class="masthead-notice">* Terms & Conditions applied</div>
      </div>
    </div><!--- END Masthead Content --->
    <div class="bg-circle-1 bg-circle"></div>
    <div class="bg-circle-2 bg-circle"></div>
    <div class="bg-circle-3 bg-circle"></div>
    <div class="bg-circle-4 bg-circle"></div>
  </header><!--- END Section Masthead --->

  <!--- Section Countdown --->
  <section id="countdown" class="countdown" style="background-color: #ffefed">
    <div class="container p-sm-5 py-3">
      <div class="row m-sm-4 m-0">
        <div class="col-sm-24 my-3">
          <h1 class="text-center">Limited Time Event</h1>
          <p class="text-center pt-2 pb-5">Hurry up and don't miss your <strong><span class="text-nowrap">Free Name Cards</span></strong></p>
          <div class="clock mt-4 d-flex justify-content-center"></div>
          <div class="message"></div>
        </div>
      </div>
      <a href="#howto" class="row d-sm-none d-block text-primary text-center text-xl mt-4">
        <i class="fa fa-chevron-down"></i>
      </a>
    </div>
  </section><!--- END Section Countdown --->

  <!--- Section Benefit --->
  <section id="howto" class="benefit bg-gradient bg-primary">
    <div class="container p-sm-5 py-3">
      <div class="row justify-content-center m-sm-4 m-0">
        <div class="col-sm-18 my-3">
          <h1 class="text-center mb-5">How To Join?</h1>
          <div class="card shadow-sm p-sm-3 p-0 mb-3 rounded" style="background-color: #ffefed">
            <div class="card-body">
              <ol style="font-size: 1rem; line-height: 1.5rem;">
                <li>Upload your business card’s design or photo before <b>2pm, 14th July 2019</b>.</li>
                <li><b>20 candidates</b> will be randomly selected as the winners.</li>
                <li>The winners will be notified by using WhatsApp or Email on <b>7pm, 14th July 2019</b>.</li>
                <li>The winners will get <b>2 boxes (200pcs) of <sup>*</sup>Free Business Cards</b> of their design submitted for the contest.</li>
                <li>The winners should claim their prize from the <b>Member Panel</b> before <b>5pm, 15th July 2019</b>.</li>
              </ol>
              <div class="text-center">
                <button class="btn btn-primary bg-primary bg-gradient" data-toggle="modal" data-target="#tnc_modal">Read the Terms & Conditions</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <a href="#cta" class="row d-sm-none d-block text-white text-center text-xl mt-3">
        <i class="fa fa-chevron-down"></i>
      </a>
    </div>
  </section><!--- END Section Benefit --->

  <!--- Section CTA --->
  <section id="cta" class="cta">
    <div class="container p-sm-5 py-3">
      <div class="row justify-content-center m-sm-4 m-0">
        <div class="col-sm-18 my-3">
          <h1 class="text-center mb-5">Submit An Entry</h1>

          <div class="card shadow-sm p-3 mb-5 bg-white rounded">
            <div class="card-body">
              <?= form_open_multipart(site_url('POST/free-name-card-20190709'), 'id="form" novalidate'); ?>
                <div class="row">
                  <div class="offset-sm-3">
                    <h5><ol class="pl-4" start="1"><li>Fill up you contact information</li></ol></h5>
                  </div>
                </div>

                <div class="form-group row">
                  <label for="name" class="col-sm-6 offset-sm-3 col-form-label">Full Name</label>
                  <div class="col-sm-12">
                    <input type="text" class="form-control" id="name" name="name" placeholder="Full name as in your NRIC" required>
                    <div class="js__invalid-field invalid-feedback d-none">Please enter your Full Name</div>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="email" class="col-sm-6 offset-sm-3 col-form-label">Email Address</label>
                  <div class="col-sm-12">
                    <input type="email" class="form-control" id="email" name="email" placeholder="name@yourcompany.com" required>
                    <div class="js__invalid-field invalid-feedback d-none">Please enter your Email Address</div>
                    <div id="invalid_email" class="invalid-feedback d-none">Invalid Email Address format</div>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="phone" class="col-sm-6 offset-sm-3 col-form-label">Phone Number</label>
                  <div class="col-sm-12">
                    <input type="text" class="form-control" id="phone" name="phone" placeholder="012-3456789" required>
                    <div class="js__invalid-field invalid-feedback d-none">Please enter your Phone Number</div>
                    <div id="invalid_phone" class="invalid-feedback d-none">Invalid Phone Number format</div>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="preferences" class="col-sm-6 offset-sm-3 col-form-label">Contact Preferences</label>
                  <div class="col-sm-12 mt-2">
                    <div class="custom-control custom-radio custom-control-inline">
                      <input type="radio" id="prefer_whatsapp" class="custom-control-input" name="preferences" value="whatsapp" checked>
                      <label class="custom-control-label" for="prefer_whatsapp">I prefer you to <strong class="text-danger">WhatsApp</strong> me</label>
                    </div>
                    <div class="custom-control custom-radio custom-control-inline mt-3">
                      <input type="radio" id="prefer_email" class="custom-control-input" name="preferences" value="email" >
                      <label class="custom-control-label" for="prefer_email">I prefer you to <strong class="text-danger">Email</strong> me</label>
                    </div>
                  </div>
                </div>

                <br><br>

                <div class="row">
                  <div class="offset-sm-3">
                    <h5><ol class="pl-4" start="2"><li>Upload your Name Card artwork(s)</li></ol></h5>
                  </div>
                </div>

                <div class="form-group row">
                  <label class="col-sm-6 offset-sm-3 col-form-label">Your Artwork(s)</label>
                  <div class="col-sm-12">
                    <div class="custom-file">
                      <input type="file" class="custom-file-input" id="files" name="files[]" accept="application/photoshop,application/psd,image/psd,application/x-photoshop,image/vnd.adobe.photoshop,application/pdf,application/force-download,application/x-download,binary/octet-stream,application/postscript,image/jpeg,image/pjpeg,image/png,image/x-png,image/*" capture="camera" multiple required aria-describedby="files_help">
                      <label class="custom-file-label text-truncate" for="files">Choose files...</label>
                      <div id="files_help" class="form-text text-muted"><span>0</span> files selected</div>
                      <div id="invalid_files" class="invalid-feedback d-none">Invalid file size or file type</div>
                      <div id="max_files" class="invalid-feedback d-none">Selected files exceed the limited number per upload</div>
                      <br>
                      <div class="form-text text-muted">Maximum 3 files per upload<br>Maximum 30 mb per file size<br>Allowed file types: .jpg, .png, .pdf, .psd, .ai</div>
                      <div class="js__invalid-field invalid-feedback d-none">Please select at least one file</div>
                    </div>
                  </div>
                </div>

                <br>

                <div class="form-group row">
                  <div class="col-sm-12 offset-sm-9">
                    <button type="button" class="js__submit-btn btn btn-lg btn-primary">Click Here And Submit</button>
                    <small class="d-block mt-3">By submitting this form, I agree to PrintingLab.MY's <span class="text-danger">Privacy Policy</span>, <span class="text-danger">T&C</span><br>and the <a href="#tnc_modal" data-toggle="modal">Terms & Conditions</a> of this promotional campaign.</small>
                  </div>
                </div>

              </form>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section><!--- END Section CTA --->


  <div class="modal fade" id="tnc_modal" tabindex="-1" role="dialog" aria-labelledby="tnc_modal_title" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="tnc_modal_title">Terms And Conditions</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body px-5 py-3">
          <h5>Eligibility</h5>
          <ol class="pl-4">
            <li>Anyone who upload their business card’s design or photo before 2pm, 14th July 2019 will reserved as candidate to grab a chance of winning the prizes.</li>
            <li>The uploaded business card design or photo must not contain any elements of pornography, violence, gambling, politics and racism.</li>
            <li>The information of candidates from the form must be same with the uploaded design or photo.</li>
            <li>Any violation from either (1), (2) or (3) will lead to disqualification of the right of candidates.</li>
          </ol>
          <br>

          <h5>Prize Announcement</h5>
          <ol class="pl-4">
            <li>There are 20 candidates will be randomly selected to get the prize, 2 boxes (200pcs) Standard Business Card stated in PrintingLab.my.</li>
            <li>The 2 boxes of the business card must be printed by the same design and same name.</li>
            <li>PrintingLab.my will announce the winner on 7pm, 14th July 2019.</li>
            <li>Only the winner will be notified by using WhatsApp or Email (depends on the preference chosen from the form).</li>
          </ol>
          <br>

          <h5>Prize Claim</h5>
          <ol class="pl-4">
            <li>The winners can claim their prize from the member panel of PrintingLab.my before 5pm, 15th July 2019.</li>
            <li>The winners have to prepare their design in softcopy and send to PrintingLab.</li>
            <li>Scan-to-print is strictly rejected for the prize claiming because the quality of output is bad and this will affect the reputation of PrintingLab.my</li>
          </ol>
          <br>

          <h5>All Rights Reserved</h5>
          <p>PrintingLab reserved all the right to change, add or remove any terms and conditions stated without prior notify.</p>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary mx-auto" data-dismiss="modal">I have read the Terms & Conditions</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

  <script>
    $(function() {
      $('#form').on('submit', function(e) {
        if ( ! validateForm($(this))) {
          e.preventDefault();
          e.stopPropagation();
        }
      });

      $('.js__submit-btn').on('click', function() {
        if (validateForm($('#form'))) {
          $('#form').submit();
          $(this).text('Uploading...');
          $(this).prop('disabled', true);
        }
      })

      $('.form-control[required]').on('keydown', function() {
        $(this).removeClass('is-invalid');
        $(this).siblings('.js__invalid-field').addClass('d-none');
      });

      $('#files').on('change', function() {
        var label = $('label[for="files"]');
        var files = $(this.files);

        $(this).removeClass('is-invalid');
        $(this).siblings('.js__invalid-field').addClass('d-none');

        if (files.length > 0) {
          if (files.length > 3) {
            $(this).siblings('#max_files').removeClass('d-none');
            $(this).addClass('is-invalid');
            return;
          }

          var filenames = [];

          $.each(files, function(index, file) {
            filenames.push(file.name);
          });

          filenames = filenames.join(', ');
          filenames = filenames.replace(/(.*),/, '$1 and');
          label.text(filenames);

          $('#files_help').find('span').text(files.length);

          var max_size = 30*1024*1024; // mb to b
          var allowed_types = [
            'application/x-photoshop',
            'image/vnd.adobe.photoshop',
            'application/photoshop',
            'application/psd',
            'image/psd',
            'application/pdf',
            'application/force-download',
            'application/x-download',
            'binary/octet-stream',
            'application/postscript',
            'image/jpeg',
            'image/pjpeg',
            'image/png',
            'image/x-png',
          ];
          var is_valid = true;

          $.each(files, function(i, file) {
            if (file.size > max_size) {
              is_valid = false;
            }

            if (allowed_types.length > 0) {
              if ( ! $.inArray(file.type, allowed_types)) {
                is_valid = false;
              }
            }
          });

          if (is_valid) {
            $(this).removeClass('is-invalid');
            $(this).siblings('.invalid-feedback').addClass('d-none');
          } else {
            $(this).siblings('#invalid_files').removeClass('d-none');
            $(this).addClass('is-invalid');
          }
        } else {
          label.text('Choose files...');
          $('#files_help').find('span').text(0);

          $(this).addClass('is-invalid');
          $(this).siblings('.js__invalid-field').removeClass('d-none');
        }
      });

      $('#phone').on('blur', function() {
        var
          $this = $(this),
          value = $.trim($this.val());

        if (value.length === 0) return;
        validateField($this, value, ['valid_phone']);
      });

      $('#email').on('blur', function() {
        var
          $this = $(this),
          value = $.trim($this.val());

        if (value.length === 0) return;
        validateField($this, value, ['valid_email']);
      });

      function validateForm($this) {
        var invalidFields = $this.find('.is-invalid').length;

        /**
         * Validate required fields
         */
        var requiredFields = $this.find('[required]');
        var emptyFields = 0;
        if (requiredFields.length > 0) {
          $.each(requiredFields, function(index, field) {
            var value = $.trim($(field).val());
            (value.length !== 0) || $(field).addClass('is-invalid').siblings('.js__invalid-field').removeClass('d-none');
            (value.length !== 0) || emptyFields++;
          })
        }

        /**
         * Return Result
         */
        return (emptyFields === 0 && invalidFields === 0);
      }

      function validateField($this, value, rules, extras) {
        value = $.trim(value);
        if ($this.length === 0 || value.length === 0 || rules.length === 0) {
          return;
        }

        $.each(rules, function(index, rule) {
          switch (rule.toLowerCase()) {
            case 'valid_phone':
              var regex = /^((0|\(?\+60\)?\s?|0060\s?|60\s?)?(\d\d)([\-\s]?\d\d\d?\d){2})$/;
              var minLength = 9;

              if (regex.test(value) && value.length >= minLength) {
                validField($this);
              } else {
                invalidField($this, ['INVALID_PHONE'])
              }
            break;

            case 'valid_email':
              var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
              if (regex.test(value)) {
                validField($this);
              } else {
                invalidField($this, ['INVALID_EMAIL'])
              }
            break;

            case 'valid_username':
              var regex = /^[a-zA-Z0-9]+$/;
              var minLength = 5;

              if (regex.test(value) && value.length >= minLength) {
                validField($this);
              } else {
                invalidField($this, ['INVALID_USERNAME'])
              }
            break;

            case 'valid_password':
              var minLength = 5;

              if (value.length >= minLength) {
                validField($this);
              } else {
                invalidField($this, ['INVALID_PASSWORD'])
              }
            break;
          }
        });

        function validField($this) {
          $this.removeClass('is-invalid');
          $this.siblings('.invalid-feedback').addClass('d-none');
        }

        function invalidField($this, errors) {
          $.each(errors, function(index, error) {
            error = error.toLowerCase();
            $this.siblings('#'+error).removeClass('d-none');
            $this.addClass('is-invalid');
          });
        }
      }
    })
  </script>

  <script src="https://static.printinglab.my/vendor/flipclock/flipclock.min.js"></script>
  <script>
    $(function() {
      var now = new Date();
      var endDate = new Date('2019/07/02 14:00:00');
      var diff = Math.floor(endDate.getTime()/1000) - (now.getTime()/1000);
      if (diff < 0) {
        var clock = $('.clock').FlipClock(0, {
          clockFace: 'DailyCounter',
          countdown: true,
        });
        $('.js__submit-btn').prop('disabled', true).text('CAMPAIGN END');
      } else {
        var clock = $('.clock').FlipClock(diff, {
          clockFace: 'DailyCounter',
          countdown: true,
        });
        clock.start();
      }
    });
  </script>
</body>
</html>
